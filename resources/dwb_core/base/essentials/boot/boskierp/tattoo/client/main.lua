local tattoosList = {
	["mpbeach_overlays"] = {

		{nameHash = "MP_Bea_M_Head_000", part = "head", addedX = 0.5, addedY=0.4,addedZ=0.7, rotZ = 136.4, price = 500},
		{nameHash = "MP_Bea_M_Head_001", part = "head", addedX = -0.1, addedY=0.4,addedZ=0.7, rotZ = 195.0, price = 500},
		{nameHash = "MP_Bea_M_Head_002", part = "head", addedX = -0.1, addedY=-0.5,addedZ=0.7, rotZ = 334.5, price = 500},


		{nameHash = "MP_Bea_F_Neck_000", part = "Nhead", addedX = 0.2, addedY=-0.5,addedZ=0.7, rotZ = 374.3, price = 500},
		{nameHash = "MP_Bea_M_Neck_000", part = "Nhead", addedX = -0.1, addedY=0.7,addedZ=0.7, rotZ = 537.0, price = 500},
		{nameHash = "MP_Bea_M_Neck_001", part = "Nhead", addedX = 0.3, addedY=-0.3,addedZ=0.6, rotZ = 410.3, price = 500},


		{nameHash = "MP_Bea_F_Back_000", part = "torso_back", addedX = -0.1, addedY=0.4,addedZ=0.7, rotZ = 195.0, price = 500},
		{nameHash = "MP_Bea_F_Back_001", part = "torso_back", addedX = -0.5, addedY=-0.3,addedZ=0.3, rotZ = -54.4, price = 500},
		{nameHash = "MP_Bea_F_Back_002", part = "torso_back", addedX = -0.5, addedY=-0.3,addedZ=0.3, rotZ = -54.4, price = 500},
		{nameHash = "MP_Bea_M_Back_000", part = "torso_back", addedX = -0.6, addedY=-0.4,addedZ=0.3, rotZ = 309.0, price = 500},


		{nameHash = "MP_Bea_F_Chest_000", part = "torso", addedX = 0.3, addedY=0.3,addedZ=0.5, rotZ = 482.0, price = 500},
		{nameHash = "MP_Bea_F_Chest_001", part = "torso", addedX = 0.3, addedY=0.3,addedZ=0.5, rotZ = 482.0, price = 500},
		{nameHash = "MP_Bea_F_Chest_002", part = "torso", addedX = 0.4, addedY=0.1,addedZ=0.5, rotZ = 482.0, price = 500},
		{nameHash = "MP_Bea_M_Chest_000", part = "torso", addedX = 0.3, addedY=0.2,addedZ=0.4, rotZ = 482.0, price = 500},
		{nameHash = "MP_Bea_M_Chest_001", part = "torso", addedX = 0.3, addedY=0.2,addedZ=0.4, rotZ = 482.0, price = 500},


		{nameHash = "MP_Bea_F_Stom_000", part = "torso", addedX = 0.2, addedY=0.3,addedZ=0.1, rotZ = 488.8, price = 500},
		{nameHash = "MP_Bea_F_Stom_001", part = "torso", addedX = 0.3, addedY=0.1,addedZ=0.1, rotZ = 466.4, price = 500},
		{nameHash = "MP_Bea_F_Stom_002", part = "torso", addedX = 0.3, addedY=0.3,addedZ=0.1, rotZ = 485.6, price = 500},
		{nameHash = "MP_Bea_M_Stom_000", part = "torso", addedX = 0.3, addedY=0.3,addedZ=0.1, rotZ = 485.6, price = 500}, 
		{nameHash = "MP_Bea_M_Stom_001", part = "torso", addedX = 0.6, addedY=0.3,addedZ=0.1, rotZ = 485.6, price = 500},


		{nameHash = "MP_Bea_F_RSide_000", part = "torso_right", addedX = 0.4, addedY=-0.4,addedZ=0.1, rotZ = 421.0, price = 500},


		{nameHash = "MP_Bea_F_Should_000", part = "torso", addedX = -0.5, addedY=-0.3,addedZ=0.5, rotZ = 654.1, price = 500},
		{nameHash = "MP_Bea_F_Should_001", part = "torso", addedX = -0.5, addedY=-0.3,addedZ=0.5, rotZ = 654.1, price = 500},


		{nameHash = "MP_Bea_F_RArm_001", addedX = 0.2, addedY=-0.5,addedZ=0.3, rotZ = 21.1, price = 500},
		{nameHash = "MP_Bea_M_RArm_001", addedX = 0.2, addedY=-0.5,addedZ=0.3, rotZ = 21.1, price = 500},
		{nameHash = "MP_Bea_M_RArm_000", addedX = 0.2, addedY=-0.5,addedZ=0.3, rotZ = 21.1, price = 500},


		{nameHash = "MP_Bea_F_LArm_000", addedX = 0.3, addedY=0.8,addedZ=0.2, rotZ = -192.2, price = 500},
		{nameHash = "MP_Bea_F_LArm_001", addedX = -0.5, addedY=0.7,addedZ=0.4, rotZ = -140.7, price = 500},
		{nameHash = "MP_Bea_M_LArm_000", addedX = -0.5, addedY=0.7,addedZ=0.4, rotZ = -140.7, price = 500}, 


		{nameHash = "MP_Bea_M_Lleg_000", addedX = -0.5, addedY=-0.2,addedZ=-0.8, rotZ = -51.7, price = 500},


		{nameHash = "MP_Bea_F_RLeg_000",addedX = -0.5, addedY=-0.2,addedZ=-0.8, rotZ = -51.7, price = 500}

	},


	["mpbusiness_overlays"] = {
		{nameHash = "MP_Buis_M_Neck_000", addedX = 0.3, addedY=0.2,addedZ=0.5,rotZ = 119.4, price = 500},
		{nameHash = "MP_Buis_M_Neck_001", addedX = 0.3, addedY=-0.2,addedZ=0.7,rotZ = 56.9, price = 500},
		{nameHash = "MP_Buis_M_Neck_002", addedX = 0.0, addedY=0.3,addedZ=0.6,rotZ = 164.8, price = 500},
		{nameHash = "MP_Buis_M_Neck_003", addedX = -0.3, addedY=-0.2,addedZ=0.6,rotZ = -54.1, price = 500},


		{nameHash = "MP_Buis_M_LeftArm_000", addedX = 0.3, addedY=0.2,addedZ=0.0,rotZ = 115.5, price = 500},
		{nameHash = "MP_Buis_M_LeftArm_001", addedX = -0.7, addedY=0.1,addedZ=0.0,rotZ = -68.4, price = 500},

		{nameHash = "MP_Buis_M_RightArm_000", addedX = 0.3, addedY=-0.7,addedZ=0.5,rotZ = 17.7, price = 500},
		{nameHash = "MP_Buis_M_RightArm_001", addedX = 0.3, addedY=0.3,addedZ=0.0,rotZ = 145.4, price = 500},

		{nameHash = "MP_Buis_M_Stomach_000", addedX = 0.7, addedY=0.4,addedZ=0.3,rotZ = 117.3, price = 500},
		{nameHash = "MP_Buis_M_Chest_000", addedX = 0.7, addedY=0.4,addedZ=0.3,rotZ = 117.3, price = 500},
		{nameHash = "MP_Buis_M_Chest_001", addedX = 0.7, addedY=0.4,addedZ=0.3,rotZ = 117.3, price = 500},
		{nameHash = "MP_Buis_M_Back_000", addedX = -0.7, addedY=-0.3,addedZ=0.3,rotZ = -53.6, price = 500},
		{nameHash = "MP_Buis_F_Chest_000", addedX = 0.5, addedY=0.3,addedZ=0.5,rotZ = 124.9, price = 500},
		{nameHash = "MP_Buis_F_Chest_001", addedX = 0.7, addedY=0.4,addedZ=0.3,rotZ = 117.3, price = 500},
		{nameHash = "MP_Buis_F_Chest_002", addedX = 0.7, addedY=0.4,addedZ=0.3,rotZ = 117.3, price = 500},
		{nameHash = "MP_Buis_F_Stom_000", addedX = 0.7, addedY=0.4,addedZ=0.2,rotZ = 117.3, price = 500},
		{nameHash = "MP_Buis_F_Stom_001", addedX = 0.7, addedY=0.4,addedZ=0.2,rotZ = 117.3, price = 500},
		{nameHash = "MP_Buis_F_Stom_002", addedX = 0.7, addedY=0.4,addedZ=0.2,rotZ = 117.3, price = 500},
		{nameHash = "MP_Buis_F_Back_000", addedX = -0.4, addedY=-0.3,addedZ=0.2,rotZ = 299.8, price = 500},
		{nameHash = "MP_Buis_F_Back_001", addedX = -0.4, addedY=-0.3,addedZ=0.2,rotZ = 299.8, price = 500},
		{nameHash = "MP_Buis_F_Neck_000", addedX = 0.3, addedY=-0.4,addedZ=0.6,rotZ = 382.8, price = 500},
		{nameHash = "MP_Buis_F_Neck_001", addedX = -0.3, addedY=0.3,addedZ=0.7,rotZ = 214.2, price = 500},
		{nameHash = "MP_Buis_F_RArm_000", addedX = 0.5, addedY=0.0,addedZ=0.0,rotZ = 457.5, price = 500},
		{nameHash = "MP_Buis_F_LArm_000", addedX = 0.2, addedY=0.4,addedZ=0.0,rotZ = 472.0, price = 500},
		{nameHash = "MP_Buis_F_LLeg_000", addedX = -0.3, addedY=-0.1,addedZ=-0.7,rotZ = 332.0, price = 500},
		{nameHash = "MP_Buis_F_RLeg_000", addedX = -0.4, addedY=-0.1,addedZ=-0.7,rotZ = 278.0, price = 500}

	},

	["mphipster_overlays"] = {
		{nameHash = "FM_Hip_M_Tat_000", addedX = -0.7, addedY=-0.4,addedZ=0.5,rotZ = -55.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_001", addedX = -0.4, addedY=-0.7,addedZ=0.2,rotZ = -49.7, price = 500},
		{nameHash = "FM_Hip_M_Tat_002", addedX = 0.4, addedY=0.5,addedZ=0.4,rotZ = 129.5, price = 500},
		{nameHash = "FM_Hip_M_Tat_003", addedX = -0.8, addedY=0.1,addedZ=0.0,rotZ = -71.9, price = 500},
		{nameHash = "FM_Hip_M_Tat_004", addedX = 0.4, addedY=0.2,addedZ=0.0,rotZ = -182.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_005", addedX = -0.1, addedY=0.3,addedZ=0.6,rotZ = -182.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_006", addedX = 0.5, addedY=-0.3,addedZ=0.2,rotZ = 38.9, price = 500},
		{nameHash = "FM_Hip_M_Tat_007", addedX = -0.1, addedY=0.8,addedZ=-0.2,rotZ = 156.7, price = 500},
		{nameHash = "FM_Hip_M_Tat_008", addedX = 0.4, addedY=-0.5,addedZ=0.5,rotZ = 51.8, price = 500},
		{nameHash = "FM_Hip_M_Tat_009", addedX = -0.7, addedY=-0.4,addedZ=-0.5,rotZ = -23.5, price = 500},
		{nameHash = "FM_Hip_M_Tat_010", addedX = 0.5, addedY=-0.4,addedZ=-0.1,rotZ = 37.8, price = 500},
		{nameHash = "FM_Hip_M_Tat_011", addedX = -0.3, addedY=-0.2,addedZ=0.5,rotZ = 290.7, price = 500},
		{nameHash = "FM_Hip_M_Tat_012", addedX = -0.3, addedY=-0.2,addedZ=0.5,rotZ = 290.7, price = 500},
		{nameHash = "FM_Hip_M_Tat_013", addedX = 0.6, addedY=0.3,addedZ=0.5,rotZ = 121.7, price = 500},
		{nameHash = "FM_Hip_M_Tat_014", addedX = 0.5, addedY=0.1,addedZ=0.1,rotZ = 121.7, price = 500},
		{nameHash = "FM_Hip_M_Tat_015", addedX = 0.3, addedY=0.3,addedZ=0.4,rotZ = 114.0, price = 500},
		{nameHash = "FM_Hip_M_Tat_016", addedX = 0.3, addedY=0.3,addedZ=0.0,rotZ = 114.0, price = 500},
		{nameHash = "FM_Hip_M_Tat_017", addedX = -0.2, addedY= -0.5,addedZ= 0.1,rotZ = -27.8, price = 500},
		{nameHash = "FM_Hip_M_Tat_018", addedX = -0.4, addedY=-0.2,addedZ=0.1,rotZ = 247.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_019", addedX = -0.7, addedY=-0.5,addedZ=-0.7,rotZ = 296.0, price = 500},
		{nameHash = "FM_Hip_M_Tat_020", addedX = -0.4, addedY=-0.4,addedZ=0.1,rotZ = 296.0, price = 500},
		{nameHash = "FM_Hip_M_Tat_021", addedX = 0.3, addedY=-0.2,addedZ=0.5,rotZ = 74.3, price = 500},
		{nameHash = "FM_Hip_M_Tat_022", addedX = 0.5, addedY=-0.4,addedZ=0.1,rotZ = 74.3, price = 500},
		{nameHash = "FM_Hip_M_Tat_023", addedX = 0.4, addedY=-0.5,addedZ=-0.1,rotZ = 24.9, price = 500},
		{nameHash = "FM_Hip_M_Tat_024", addedX = -0.3, addedY=-0.3,addedZ=0.5,rotZ = -53.5, price = 500},
		{nameHash = "FM_Hip_M_Tat_025", addedX = -0.5, addedY=-0.4,addedZ=0.5,rotZ = -53.5, price = 500},
		{nameHash = "FM_Hip_M_Tat_026", addedX = -0.7, addedY=0.9,addedZ=0.5,rotZ = -124.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_027", addedX = -0.3, addedY=-0.4,addedZ=0.2,rotZ = -343.4, price = 500},
		{nameHash = "FM_Hip_M_Tat_028", addedX = -1.1, addedY=0.2,addedZ=0.2,rotZ = -431.1, price = 500},
		{nameHash = "FM_Hip_M_Tat_029", addedX = 0.2, addedY=0.5,addedZ=0.0,rotZ = -200.1, price = 500},
		{nameHash = "FM_Hip_M_Tat_030", addedX = -0.7, addedY=-0.5,addedZ=0.3,rotZ = -63.5, price = 500},
		{nameHash = "FM_Hip_M_Tat_031", addedX = -0.7, addedY=-0.5,addedZ=0.3,rotZ = -63.5, price = 500},
		{nameHash = "FM_Hip_M_Tat_032", addedX = -0.7, addedY=-0.5,addedZ=0.3,rotZ = -63.5, price = 500},
		{nameHash = "FM_Hip_M_Tat_033", addedX = 0.6, addedY=0.3,addedZ=0.4,rotZ = 116.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_034", addedX = -0.1, addedY=0.7,addedZ=0.0,rotZ = 191.5, price = 500},
		{nameHash = "FM_Hip_M_Tat_035", addedX = 0.1, addedY=0.7,addedZ=0.0,rotZ = 145.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_036", addedX = 0.4, addedY=-0.8,addedZ=0.4,rotZ = 375.2, price = 500},
		{nameHash = "FM_Hip_M_Tat_037", addedX = -0.5, addedY=0.9,addedZ=0.4,rotZ = 551.7, price = 500},
		{nameHash = "FM_Hip_M_Tat_038", addedX = 0.4, addedY=-0.8,addedZ=-0.6,rotZ = 400.1, price = 500},
		{nameHash = "FM_Hip_M_Tat_039", addedX = 0.1, addedY=1.2,addedZ=0.1,rotZ = 511.9, price = 500},
		{nameHash = "FM_Hip_M_Tat_040", addedX = -0.6, addedY=-0.1,addedZ=-0.7,rotZ = 307.0, price = 500},
		{nameHash = "FM_Hip_M_Tat_041", addedX = -0.5, addedY=0.1,addedZ=0.2,rotZ = 258.8, price = 500},
		{nameHash = "FM_Hip_M_Tat_042", addedX = -0.5, addedY=-0.5,addedZ=-0.7,rotZ = -25.0, price = 500},
		{nameHash = "FM_Hip_M_Tat_043", addedX = -0.3, addedY=0.4,addedZ=0.4, rotZ = -135.4, price = 500},
		{nameHash = "FM_Hip_M_Tat_044", addedX = 0.2, addedY=-0.5,addedZ=0.4,rotZ = 13.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_045", addedX = 0.2, addedY=-0.8,addedZ=0.3,rotZ = 13.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_046", addedX = -0.5, addedY=-0.3,addedZ=0.5,rotZ = -61.2, price = 500},
		{nameHash = "FM_Hip_M_Tat_047", addedX = 0.4, addedY=0.2,addedZ=0.5,rotZ = 104.6, price = 500},
		{nameHash = "FM_Hip_M_Tat_048", addedX = -0.1, addedY=0.6,addedZ=-0.1,rotZ = 181.1, price = 500},
	},
}

local ownedTattoos = {}

function calculatePrice(zone)
    local price = 0

    for k,v in pairs(ownedTattoos) do
        if v.zone == zone then
            price = price + v.price or 0             
        end
    end

    return price
end

function alreadyOwned(zone, value) 
    for k,v in pairs(ownedTattoos) do
        if v.zone == zone and v.value == value then
            return true
        end
    end
end

function removeByZone(zone)
    for k,v in pairs(ownedTattoos) do
        if v.zone == zone then
            table.remove(ownedTattoos, k)
        end
    end
end
Event:Register('dwb:shop:tattoo:sync', function(data)
    while not DWB.PlayerLoaded or not DWB.PlayerData.Spawned do
        -- Log:Info("[PLAYER THREAD]", "Waiting for PlayerLoaded and Spawned")
        Wait(0)
    end
        ClearPedDecorations(PlayerPedId())

        if type(data) == 'string' then
            data = nil
        end
    
        for k,v in pairs(data or {}) do
        AddPedDecorationFromHashes(PlayerPedId(), v[1], v[2])
    end
end, true)

Event:Register('dwb:shop:tattoo:open', function()
    local data = json.decode(LoadResourceFile(GetCurrentResourceName(), 'base/data/shared/overlays/overlayCollections.json'))

    local pageLabels = {}

    local pages = {}

    local elements = {}


    local decors = GetPedDecorations(PlayerPedId())


    for k,v in pairs(data) do
        table.insert(pageLabels, {
            v.CollectionName
        })
        table.insert(pages, {})
        for k2,v2 in pairs(v.Overlays) do
            for k4, v4 in pairs(decors) do
                if v4[1] == GetHashKey(v.CollectionName) and v4[2] == GetHashKey(v2.OverlayName) then
                    v2.value = true
                end
            end
            table.insert(pages[#pages], {
                type = 'checkbox',
                name = v2.OverlayName,
                label = v2.OverlayName,
                elementId = k2,
                catId = k,
                catName = v.CollectionName,
                value = v2.value
            })
        end
    --    if #v.Overlays > 0 then
    --     table.insert(elements, {
    --         category= 2,
    --         elements= v.Overlays,
    --         inline =true,
    --         catId = k,
    --         name= v.CollectionName
    --         -- label = k,
    --         -- zone = k,
    --         -- value = 0,
    --         -- min = 0,
    --         -- max = #v,
    --         -- description = "Aktualna Cena: 0$",
    --         -- step = 1,
    --         -- type = 'slider'
    --     })
    -- end
    end

    -- for k,v in pairs(tattoosList) do
    --     print(GetLabelText)
    --     for k2,v2 in pairs(v) do
    --         v2.type = 'checkbox'
    --         v2.name = v2.nameHash
    --         v2.label = v2.nameHash
    --         v2.elementId = k2
    --     end
    --     table.insert(elements, {
    --         category= 2,
    --         elements= v,
    --         inline =true,
    --         catId = k,
    --         name= k
    --         -- label = k,
    --         -- zone = k,
    --         -- value = 0,
    --         -- min = 0,
    --         -- max = #v,
    --         -- description = "Aktualna Cena: 0$",
    --         -- step = 1,
    --         -- type = 'slider'
    --     })
    -- end

    local p = 0

    local skin = Skinchanger:GetSkin()
    local clothes = {}
    if skin.sex == 0 then
        clothes = Config.Clothes.Default.male
    else
        clothes = Config.Clothes.Default.female
    end
    Animation:Play(PlayerPedId(), 'clothingtrousers', 'try_trousers_neutral_c', 3.0, 3.0, 1000, 23, 1.0)
    Skinchanger:SaveSkin()
    Skinchanger:LoadSkin(clothes)


    UI:Open('MenuSide', {
        show =true,
        name = 'tattoo-shop',
        title    = 'Menu tatoo',
        align    = 'right',
        pages = pages,
        pageLabels = pageLabels,

        messages = {
            {
                type = 'info',
                label = 'Aktualna Cena',
                content = 0
            }
    },
        side = "right",
        main = 0,
        extraElements = {
            {
                value = 0.0,
                min = -180.0,
                max = 180.0,
                step = 1.0,
                disableNumber = true,
                type = 'slider',
                lable = 'Obracanie kamery'
            }
        },

    }, function(data, menu)
        menu.close()
        Animation:Play(PlayerPedId(), 'clothingtrousers', 'try_trousers_neutral_c', 3.0, 3.0, 1000, 23, 1.0)
        Skinchanger:RestoreSkin()
        local message = menu.data.messages[1]
        local price = tonumber(message.content)
        local data2 = {}

        for k,v in pairs(data.pages) do
            for k2, v2 in pairs(v) do
                if v2.value then
                table.insert(data2, {GetHashKey(v2.catName), GetHashKey(v2.name)})                                
                end
            end
        end

        Event:TriggerNet('dwb:shop:tattoo:buy', price, data2)
    end, function(data,menu)
        menu.close()
        Animation:Play(PlayerPedId(), 'clothingtrousers', 'try_trousers_neutral_c', 3.0, 3.0, 1000, 23, 1.0)
        Skinchanger:RestoreSkin()
        ClearPedDecorations(PlayerPedId())
        for k,v in pairs(decors) do
            AddPedDecorationFromHashes(PlayerPedId(), v[1], v[2])
        end
    end, function(data, menu)
        -- SetPedDefaultComponentVariation(PlayerPedId())

        local message = menu.data.messages[1]
        local price = tonumber(message.content)

        local el = data.current

        if el.firstValue == nil then
            el.firstValue = false
        end

        if el.value ~= el.firstValue then
                price = price + (el.price or 500)
        else
                price = price - (el.price or 500)
        end

        if el.type == 'checkbox' then
            if el.value then
                AddPedDecorationFromHashes(PlayerPedId(), GetHashKey(el.catName), GetHashKey(el.name))
            else
                ClearPedDecorations(PlayerPedId())
                for k,v in pairs(decors) do
                    if GetHashKey(el.catName) ~= v[1] and GetHashKey(el.name) ~= v[2] then
                        AddPedDecorationFromHashes(PlayerPedId(), v[1], v[2])
                    end
                end
                for k,v in pairs(data.pages) do
                    for k2, v2 in pairs(v) do
                        if v2.value then
                            AddPedDecorationFromHashes(PlayerPedId(), GetHashKey(v2.catName), GetHashKey(v2.name))
                        end
                    end
                end
            end
        end

        message.content = price
        menu.updateMessage(0, message)

-- --         local cat = data.category.name
-- --         local element = data.current
-- --         print(json.encode(cat), json.encode(element))
-- -- local ped = PlayerPedId()
-- --         if element.value then
-- --             p = p + (element.price or 0)
-- --             AddPedDecorationFromHashes(ped, GetHashKey(cat), GetHashKey(element.name))
-- --         else
-- --             p = p - (element.price or 0)
            
-- --             ClearPedDecorations(ped)
-- --         end
-- --         menu.update2({
-- --             messages = {
-- --                 {
-- --                     label = 'Cena',
-- --                     content = p
-- --                 }
-- --             }
-- --         })

        -- local ped = PlayerPedId()
        -- local element = tattoosList[data.current.zone][data.current.value]
        -- if element then
        --     AddPedDecorationFromHashes(ped, GetHashKey(data.current.zone), GetHashKey(element.nameHash))
        -- else
        --     ClearPedDecorations(ped)
        -- end

        if data.type == 'extra' then

        elseif data.type == 'submit' then
            local ped = PlayerPedId()
            local element = tattoosList[data.current.zone][data.current.value]
            if element then
                if not alreadyOwned(data.current.zone, element.nameHash) then 
                    table.insert(ownedTattoos, {
                        zone = data.current.zone,
                        value = element.nameHash,
                        price = element.price
                    })

                    
                    menu.update('zone', data.current.zone, {
                        ['description'] = string.format("Aktualna Cena: %s $", calculatePrice(data.current.zone))
                    })
                end
            else
                ClearPedDecorations(ped)
                removeByZone(data.current.zone)
                menu.update('zone', data.current.zone, {
                    ['description'] = string.format("Aktualna Cena: %s $", 0)
                })
            end
        else
            -- local ped = PlayerPedId()
            -- local element = tattoosList[data.current.zone][data.current.value]
            -- if element then
            --     AddPedDecorationFromHashes(ped, GetHashKey(data.current.zone), GetHashKey(element.nameHash))
            -- else
            --     ClearPedDecorations(ped)
            -- end
        end
    end)
end, true)